p17,
p18,
p19
)
read.csv("county_census.csv") %>%
rename(county = 'ï..county') %>%
mutate(county = str_replace_all(county, "(\\.| County, California)", "")) %>%
filter(!(county %in% c("California"))) %>%
inner_join(
counties,
by=c("county"="Name")
) %>%
mutate(
p10 = X2010.y / str_replace_all(X2010.x, ",", ""),
p11 = X2011.y / X2011.x,
p12 = X2012.y / X2012.x,
p13 = X2013.y / X2013.x,
p14 = X2014.y / X2014.x,
p15 = X2015.y / X2015.x,
p16 = X2016.y / X2016.x,
p17 = X2017.y / X2017.x,
p18 = X2018.y / X2018.x,
p19 = X2019.y / X2019.x,
) %>%
select(
county,
p10,
p11,
p12,
p13,
p14,
p15,
p16,
p17,
p18,
p19
)
read.csv("county_census.csv") %>%
rename(county = 'ï..county') %>%
mutate(county = str_replace_all(county, "(\\.| County, California)", "")) %>%
filter(!(county %in% c("California"))) %>%
inner_join(
counties,
by=c("county"="Name")
) %>%
mutate(
p10 = X2010.y / as.numeric(str_replace_all(X2010.x, ",", "")),
p11 = X2011.y / as.numeric(str_replace_all(X2011.x, ",", "")),
p12 = X2012.y / as.numeric(str_replace_all(X2012.x, ",", "")),
p13 = X2013.y / as.numeric(str_replace_all(X2013.x, ",", "")),
p14 = X2014.y / as.numeric(str_replace_all(X2014.x, ",", "")),
p15 = X2015.y / as.numeric(str_replace_all(X2015.x, ",", "")),
p16 = X2016.y / as.numeric(str_replace_all(X20160.x, ",", "")),
p17 = X2017.y / as.numeric(str_replace_all(X2017.x, ",", "")),
p18 = X2018.y / as.numeric(str_replace_all(X2018.x, ",", "")),
p19 = X2019.y / as.numeric(str_replace_all(X2019.x, ",", "")),
) %>%
select(
county,
p10,
p11,
p12,
p13,
p14,
p15,
p16,
p17,
p18,
p19
)
read.csv("county_census.csv") %>%
rename(county = 'ï..county') %>%
mutate(county = str_replace_all(county, "(\\.| County, California)", "")) %>%
filter(!(county %in% c("California"))) %>%
inner_join(
counties,
by=c("county"="Name")
) %>%
mutate(
p10 = X2010.y / as.numeric(str_replace_all(X2010.x, ",", "")),
p11 = X2011.y / as.numeric(str_replace_all(X2011.x, ",", "")),
p12 = X2012.y / as.numeric(str_replace_all(X2012.x, ",", "")),
p13 = X2013.y / as.numeric(str_replace_all(X2013.x, ",", "")),
p14 = X2014.y / as.numeric(str_replace_all(X2014.x, ",", "")),
p15 = X2015.y / as.numeric(str_replace_all(X2015.x, ",", "")),
p16 = X2016.y / as.numeric(str_replace_all(X2016.x, ",", "")),
p17 = X2017.y / as.numeric(str_replace_all(X2017.x, ",", "")),
p18 = X2018.y / as.numeric(str_replace_all(X2018.x, ",", "")),
p19 = X2019.y / as.numeric(str_replace_all(X2019.x, ",", "")),
) %>%
select(
county,
p10,
p11,
p12,
p13,
p14,
p15,
p16,
p17,
p18,
p19
)
read.csv("county_census.csv") %>%
rename(county = 'ï..county') %>%
mutate(county = str_replace_all(county, "(\\.| County, California)", "")) %>%
filter(!(county %in% c("California"))) %>%
inner_join(
counties,
by=c("county"="Name")
) %>%
mutate(
p10 = X2010.y / as.numeric(str_replace_all(X2010.x, ",", "")),
p11 = X2011.y / as.numeric(str_replace_all(X2011.x, ",", "")),
p12 = X2012.y / as.numeric(str_replace_all(X2012.x, ",", "")),
p13 = X2013.y / as.numeric(str_replace_all(X2013.x, ",", "")),
p14 = X2014.y / as.numeric(str_replace_all(X2014.x, ",", "")),
p15 = X2015.y / as.numeric(str_replace_all(X2015.x, ",", "")),
p16 = X2016.y / as.numeric(str_replace_all(X2016.x, ",", "")),
p17 = X2017.y / as.numeric(str_replace_all(X2017.x, ",", "")),
p18 = X2018.y / as.numeric(str_replace_all(X2018.x, ",", "")),
p19 = X2019.y / as.numeric(str_replace_all(X2019.x, ",", "")),
) %>%
select(
county,
p10,
p11,
p12,
p13,
p14,
p15,
p16,
p17,
p18,
p19
) %>%
gather("year", "val", -county)
read.csv("county_census.csv") %>%
rename(county = 'ï..county') %>%
mutate(county = str_replace_all(county, "(\\.| County, California)", "")) %>%
filter(!(county %in% c("California"))) %>%
inner_join(
counties,
by=c("county"="Name")
) %>%
mutate(
2010 = X2010.y / as.numeric(str_replace_all(X2010.x, ",", "")),
p
read.csv("county_census.csv") %>%
rename(county = 'ï..county') %>%
mutate(county = str_replace_all(county, "(\\.| County, California)", "")) %>%
filter(!(county %in% c("California"))) %>%
inner_join(
counties,
by=c("county"="Name")
) %>%
mutate(
p10 = X2010.y / as.numeric(str_replace_all(X2010.x, ",", "")),
p11 = X2011.y / as.numeric(str_replace_all(X2011.x, ",", "")),
p12 = X2012.y / as.numeric(str_replace_all(X2012.x, ",", "")),
p13 = X2013.y / as.numeric(str_replace_all(X2013.x, ",", "")),
p14 = X2014.y / as.numeric(str_replace_all(X2014.x, ",", "")),
p15 = X2015.y / as.numeric(str_replace_all(X2015.x, ",", "")),
p16 = X2016.y / as.numeric(str_replace_all(X2016.x, ",", "")),
p17 = X2017.y / as.numeric(str_replace_all(X2017.x, ",", "")),
p18 = X2018.y / as.numeric(str_replace_all(X2018.x, ",", "")),
p19 = X2019.y / as.numeric(str_replace_all(X2019.x, ",", "")),
) %>%
select(
county,
p10,
p11,
p12,
p13,
p14,
p15,
p16,
p17,
p18,
p19
) %>%
gather("year", "val", -county)
read.csv("county_census.csv") %>%
rename(county = 'ï..county') %>%
mutate(county = str_replace_all(county, "(\\.| County, California)", "")) %>%
filter(!(county %in% c("California"))) %>%
inner_join(
counties,
by=c("county"="Name")
) %>%
mutate(
p10 = X2010.y / as.numeric(str_replace_all(X2010.x, ",", "")),
p11 = X2011.y / as.numeric(str_replace_all(X2011.x, ",", "")),
p12 = X2012.y / as.numeric(str_replace_all(X2012.x, ",", "")),
p13 = X2013.y / as.numeric(str_replace_all(X2013.x, ",", "")),
p14 = X2014.y / as.numeric(str_replace_all(X2014.x, ",", "")),
p15 = X2015.y / as.numeric(str_replace_all(X2015.x, ",", "")),
p16 = X2016.y / as.numeric(str_replace_all(X2016.x, ",", "")),
p17 = X2017.y / as.numeric(str_replace_all(X2017.x, ",", "")),
p18 = X2018.y / as.numeric(str_replace_all(X2018.x, ",", "")),
p19 = X2019.y / as.numeric(str_replace_all(X2019.x, ",", "")),
) %>%
select(
county,
p10,
p11,
p12,
p13,
p14,
p15,
p16,
p17,
p18,
p19
) %>%
gather("year", "val", -county) %>%
ggplot() +
geom_line(aes(x=year, y=val, group=county))
read.csv("county_census.csv") %>%
rename(county = 'ï..county') %>%
mutate(county = str_replace_all(county, "(\\.| County, California)", "")) %>%
filter(!(county %in% c("California"))) %>%
inner_join(
counties,
by=c("county"="Name")
) %>%
mutate(
p10 = X2010.y / as.numeric(str_replace_all(X2010.x, ",", "")),
p11 = X2011.y / as.numeric(str_replace_all(X2011.x, ",", "")),
p12 = X2012.y / as.numeric(str_replace_all(X2012.x, ",", "")),
p13 = X2013.y / as.numeric(str_replace_all(X2013.x, ",", "")),
p14 = X2014.y / as.numeric(str_replace_all(X2014.x, ",", "")),
p15 = X2015.y / as.numeric(str_replace_all(X2015.x, ",", "")),
p16 = X2016.y / as.numeric(str_replace_all(X2016.x, ",", "")),
p17 = X2017.y / as.numeric(str_replace_all(X2017.x, ",", "")),
p18 = X2018.y / as.numeric(str_replace_all(X2018.x, ",", "")),
p19 = X2019.y / as.numeric(str_replace_all(X2019.x, ",", "")),
) %>%
select(
county,
p10,
p11,
p12,
p13,
p14,
p15,
p16,
p17,
p18,
p19
) %>%
gather("year", "val", -county) %>%
ggplot() +
geom_line(aes(x=year, y=val, group=county, color=county))
county.ptc <- read.csv("county_census.csv") %>%
rename(county = 'ï..county') %>%
mutate(county = str_replace_all(county, "(\\.| County, California)", "")) %>%
filter(!(county %in% c("California"))) %>%
inner_join(
counties,
by=c("county"="Name")
) %>%
mutate(
p10 = X2010.y / as.numeric(str_replace_all(X2010.x, ",", "")),
p11 = X2011.y / as.numeric(str_replace_all(X2011.x, ",", "")),
p12 = X2012.y / as.numeric(str_replace_all(X2012.x, ",", "")),
p13 = X2013.y / as.numeric(str_replace_all(X2013.x, ",", "")),
p14 = X2014.y / as.numeric(str_replace_all(X2014.x, ",", "")),
p15 = X2015.y / as.numeric(str_replace_all(X2015.x, ",", "")),
p16 = X2016.y / as.numeric(str_replace_all(X2016.x, ",", "")),
p17 = X2017.y / as.numeric(str_replace_all(X2017.x, ",", "")),
p18 = X2018.y / as.numeric(str_replace_all(X2018.x, ",", "")),
p19 = X2019.y / as.numeric(str_replace_all(X2019.x, ",", "")),
) %>%
select(
county,
p10,
p11,
p12,
p13,
p14,
p15,
p16,
p17,
p18,
p19
)
county.pct
county.pct %>%
gather("year", "val", -county) %>%
ggplot() +
geom_line(aes(x=year, y=val, group=county, color=county))
county.pct <- read.csv("county_census.csv") %>%
rename(county = 'ï..county') %>%
mutate(county = str_replace_all(county, "(\\.| County, California)", "")) %>%
filter(!(county %in% c("California"))) %>%
inner_join(
counties,
by=c("county"="Name")
) %>%
mutate(
p10 = X2010.y / as.numeric(str_replace_all(X2010.x, ",", "")),
p11 = X2011.y / as.numeric(str_replace_all(X2011.x, ",", "")),
p12 = X2012.y / as.numeric(str_replace_all(X2012.x, ",", "")),
p13 = X2013.y / as.numeric(str_replace_all(X2013.x, ",", "")),
p14 = X2014.y / as.numeric(str_replace_all(X2014.x, ",", "")),
p15 = X2015.y / as.numeric(str_replace_all(X2015.x, ",", "")),
p16 = X2016.y / as.numeric(str_replace_all(X2016.x, ",", "")),
p17 = X2017.y / as.numeric(str_replace_all(X2017.x, ",", "")),
p18 = X2018.y / as.numeric(str_replace_all(X2018.x, ",", "")),
p19 = X2019.y / as.numeric(str_replace_all(X2019.x, ",", "")),
) %>%
select(
county,
p10,
p11,
p12,
p13,
p14,
p15,
p16,
p17,
p18,
p19
)
county.pct <- read.csv("county_census.csv") %>%
rename(county = 'ï..county') %>%
mutate(county = str_replace_all(county, "(\\.| County, California)", "")) %>%
filter(!(county %in% c("California"))) %>%
inner_join(
counties,
by=c("county"="Name")
) %>%
mutate(
p10 = X2010.y / as.numeric(str_replace_all(X2010.x, ",", "")),
p11 = X2011.y / as.numeric(str_replace_all(X2011.x, ",", "")),
p12 = X2012.y / as.numeric(str_replace_all(X2012.x, ",", "")),
p13 = X2013.y / as.numeric(str_replace_all(X2013.x, ",", "")),
p14 = X2014.y / as.numeric(str_replace_all(X2014.x, ",", "")),
p15 = X2015.y / as.numeric(str_replace_all(X2015.x, ",", "")),
p16 = X2016.y / as.numeric(str_replace_all(X2016.x, ",", "")),
p17 = X2017.y / as.numeric(str_replace_all(X2017.x, ",", "")),
p18 = X2018.y / as.numeric(str_replace_all(X2018.x, ",", "")),
p19 = X2019.y / as.numeric(str_replace_all(X2019.x, ",", "")),
) %>%
select(
county,
p10,
p11,
p12,
p13,
p14,
p15,
p16,
p17,
p18,
p19
)
county.pct
county.pct %>%
gather("year", "val", -county) %>%
ggplot() +
geom_line(aes(x=year, y=val, group=county, color=county))
county.pct %>%
mutate(chng = p19 / p10) %>%
arrange(desc(chng))
county.pct %>%
gather("year", "val", -county) %>%
ggplot() +
geom_line(aes(x=year, y=val, group=county, color=county))
county.pct <- read.csv("county_census.csv") %>%
rename(county = 'ï..county') %>%
mutate(county = str_replace_all(county, "(\\.| County, California)", "")) %>%
filter(!(county %in% c("California"))) %>%
inner_join(
counties,
by=c("county"="Name")
) %>%
mutate(
p10 = X2010.y / as.numeric(str_replace_all(X2010.x, ",", "")),
p11 = X2011.y / as.numeric(str_replace_all(X2011.x, ",", "")),
p12 = X2012.y / as.numeric(str_replace_all(X2012.x, ",", "")),
p13 = X2013.y / as.numeric(str_replace_all(X2013.x, ",", "")),
p14 = X2014.y / as.numeric(str_replace_all(X2014.x, ",", "")),
p15 = X2015.y / as.numeric(str_replace_all(X2015.x, ",", "")),
p16 = X2016.y / as.numeric(str_replace_all(X2016.x, ",", "")),
p17 = X2017.y / as.numeric(str_replace_all(X2017.x, ",", "")),
p18 = X2018.y / as.numeric(str_replace_all(X2018.x, ",", "")),
p19 = X2019.y / as.numeric(str_replace_all(X2019.x, ",", "")),
) %>%
select(
county,
p10,
p11,
p12,
p13,
p14,
p15,
p16,
p17,
p18,
p19
)
county.pct %>%
mutate(chng = p19 / p10) %>%
arrange(desc(chng))
county.pct %>%
gather("year", "val", -county) %>%
ggplot() +
geom_line(aes(x=year, y=val, group=county, color=county))
county.pct %>%
arrange(desc(p19))
county.pct <- read.csv("county_census.csv") %>%
rename(county = 'ï..county') %>%
mutate(county = str_replace_all(county, "(\\.| County, California)", "")) %>%
filter(!(county %in% c("California"))) %>%
inner_join(
counties,
by=c("county"="Name")
) %>%
mutate(
p10 = X2010.y / as.numeric(str_replace_all(X2010.x, ",", "")),
p11 = X2011.y / as.numeric(str_replace_all(X2011.x, ",", "")),
p12 = X2012.y / as.numeric(str_replace_all(X2012.x, ",", "")),
p13 = X2013.y / as.numeric(str_replace_all(X2013.x, ",", "")),
p14 = X2014.y / as.numeric(str_replace_all(X2014.x, ",", "")),
p15 = X2015.y / as.numeric(str_replace_all(X2015.x, ",", "")),
p16 = X2016.y / as.numeric(str_replace_all(X2016.x, ",", "")),
p17 = X2017.y / as.numeric(str_replace_all(X2017.x, ",", "")),
p18 = X2018.y / as.numeric(str_replace_all(X2018.x, ",", "")),
p19 = X2019.y / as.numeric(str_replace_all(X2019.x, ",", "")),
) %>%
select(
county,
p10,
p11,
p12,
p13,
p14,
p15,
p16,
p17,
p18,
p19
)
county.pct %>%
arrange(desc(p19))
county.pct %>%
mutate(chng = p19 / p10) %>%
arrange(desc(chng))
county.pct %>%
gather("year", "val", -county) %>%
ggplot() +
geom_line(aes(x=year, y=val, group=county, color=county))
county.pct %>%
arrange(desc(p19))
county.pct <- read.csv("county_census.csv") %>%
rename(county = 'ï..county') %>%
mutate(county = str_replace_all(county, "(\\.| County, California)", "")) %>%
filter(!(county %in% c("California"))) %>%
inner_join(
counties,
by=c("county"="Name")
) %>%
mutate(
p10 = X2010.y / as.numeric(str_replace_all(X2010.x, ",", "")),
p11 = X2011.y / as.numeric(str_replace_all(X2011.x, ",", "")),
p12 = X2012.y / as.numeric(str_replace_all(X2012.x, ",", "")),
p13 = X2013.y / as.numeric(str_replace_all(X2013.x, ",", "")),
p14 = X2014.y / as.numeric(str_replace_all(X2014.x, ",", "")),
p15 = X2015.y / as.numeric(str_replace_all(X2015.x, ",", "")),
p16 = X2016.y / as.numeric(str_replace_all(X2016.x, ",", "")),
p17 = X2017.y / as.numeric(str_replace_all(X2017.x, ",", "")),
p18 = X2018.y / as.numeric(str_replace_all(X2018.x, ",", "")),
p19 = X2019.y / as.numeric(str_replace_all(X2019.x, ",", "")),
) %>%
select(
county,
p10,
p11,
p12,
p13,
p14,
p15,
p16,
p17,
p18,
p19
)
county.pct %>%
arrange(desc(p19))
county.pct %>%
mutate(chng = p19 / p10) %>%
arrange(desc(chng))
county.pct %>%
gather("year", "val", -county) %>%
ggplot() +
geom_line(aes(x=year, y=val, group=county, color=county))
long %>%
group_by(year) %>%
sum()
long %>%
group_by(year) %>%
summarise(val = sum(val))
long %>%
group_by(year) %>%
summarise(val = sum(val)) %>%
ggplot() +
geom_line(aes(x=year, y=val, group=1))
counties
counties %>%
arrange(desc(X2021))
